.container
  article.page-content
    ol.breadcrumb
      li = link_to 'Home', root_path
      li.active Activities
    .page-header
      h1 Activities
    .row
      .col-md-6
        - if @activities.empty?
          .alert.alert-info There are currently no activities in the system.
        - else
          - @activities.each do |activity|
            .panel.panel-default
              .panel-heading
                = link_to activity, method: :delete, class: 'text-muted pull-right', data: { confirm: "Are you sure you want to delete \"#{activity_title(activity)}\"?" } do
                  i.fa.fa-trash title="Delete"
                = link_to activity, class: 'text-inherit' do
                  i = activity.compass_install.upcase
                  = ' '
                  b = activity.day
                  = " #{activity.title}"
              .panel-body
                dl.dl-horizontal
                  dt Number of questions
                  dd
                    b = "#{activity.questions.count} "
                    span.text-muted = '('
                    = link_to 'new question', new_question_path(activity_id: activity.id)
                    span.text-muted = ')'
                  dt Compass install
                  dd = activity.compass_install
                  dt Compass primary key
                  dd = activity.compass_primary_key
      .col-md-6
        = form_for @activity, html: { class: 'form-horizontal' } do |f|
          .panel.panel-primary
            .panel-heading Add an activity
            .panel-body
              - if @activity.errors.any?
                .alert.alert-warning
                  p = "#{pluralize(@activity.errors.count, 'error')} prohibited this activity from being saved."
                  ul
                    - @activity.errors.full_messages.each do |message|
                      li = message
              .form-group
                = f.label :title, class: 'control-label col-sm-6'
                .col-sm-6 = f.text_field :title, class: 'form-control'
              .form-group
                = f.label :day, class: 'control-label col-sm-6'
                .col-sm-6 = f.text_field :day, class: 'form-control'
              .form-group
                = f.label :compass_install, class: 'control-label col-sm-6'
                .col-sm-6 = f.text_field :compass_install, class: 'form-control'
              .form-group
                = f.label :compass_primary_key, class: 'control-label col-sm-6'
                .col-sm-6 = f.text_field :compass_primary_key, class: 'form-control'
            .panel-footer.clearfix = f.submit class: 'btn btn-primary pull-right'
